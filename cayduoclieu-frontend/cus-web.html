<!DOCTYPE html>
<html lang="vi" class="h-100">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mẫu giao diện "Hello Kitty" | Website đám cưới &amp; Thiệp cưới online iWedding</title>

    <meta property="og:site_name" content="Biihappy">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://biihappy.com/iwedding/template-preview/6174ee94ff1ef271cb2d8bc5">
    <meta property="og:title" content="Mẫu giao diện 'Hello Kitty' | iWedding">
    <meta name="description" content="Mẫu thiệp cưới online 'Hello Kitty'. Giao diện web phong cách màu hồng đáng yêu của Hello Kitty, tối ưu thiết bị di động.">
    <meta property="og:description" content="Mẫu thiệp cưới online 'Hello Kitty'. Giao diện web phong cách màu hồng đáng yêu của Hello Kitty, tối ưu thiết bị di động.">
    <meta property="og:image" content="https://cdn.biihappy.com/ziiweb/default/template/6174ee94ff1ef271cb2d8bc5/9968c3ed1eeeb661d603b26993ae4c9d.jpeg">
    <link href="https://biihappy.com/iwedding/template-preview/6174ee94ff1ef271cb2d8bc5" rel="canonical">
    <link rel="icon" sizes="any" href="https://biihappy.com/static/img/logo/favicon.ico" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://biihappy.com/static/css/libs.bundle.css?v=20241215" />
    <link rel="stylesheet" href="https://biihappy.com/static/css/theme.bundle.css?v=20241215" />
    <link rel="stylesheet" href="https://biihappy.com/static/css/theme.css?v=202550529" />
    <link rel="stylesheet" href="https://biihappy.com/static/theme/css/libs.css?v=20241215">
    <link href="/static/libs/color-picker/styles.css" rel="stylesheet">
    <link href="/static/libs/tourguidejs/tour.min.css" rel="stylesheet">

    <script>
        // Giữ lại cấu trúc chính của biicore
        var biicore = {"baseURL":"https:\/\/biihappy.com","isGuest":true,"message":{/* ... messages ... */}};
    </script>

    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PRFDMZ5');</script>

    <style>
        /* Tối ưu hóa biến Bootstrap cho .btn-danger của theme */
        .btn-danger {
            --bs-btn-color: #fff;
            --bs-btn-bg: #df3367;
            --bs-btn-border-color: #e92c65;
            --bs-btn-hover-bg: #e92c65;
            --bs-btn-active-bg: #f14176;
            /* Bỏ các biến lặp lại không cần thiết */
        }
        .card-bottom-line:after { background: #df3367; }
        .color-picker__alpha { display: none !important; }

        /* Tối ưu hóa animation cho color picker button */
        .myCustomColor {
            background: var(--color, #000);
            border: #fff solid 1px;
            border-radius: 50%;
            width: 34px;
            height: 34px;
            outline: none;
            font-size: 0;
            cursor: pointer;
            box-shadow: 0 0 0 0 var(--color);
            transition: box-shadow .3s ease-out, transform .1s ease; /* Thêm transition cho animation mượt mà */
        }
        .myCustomColor:hover {
            box-shadow: 0 0 0 5px var(--color);
            transform: scale(1.05); /* Hiệu ứng phóng to nhẹ */
            border: none;
        }

        /* Tối ưu hóa CSS cho iframe container */
        #iframe-container {
            position: relative;
            padding: 0;
            overflow: hidden;
            -webkit-overflow-scrolling: touch;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Thêm animation cho iframe khi đổi chế độ xem */
        #iframe-preview {
            transition: width 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Animation chuyển đổi width */
        }

        /* ... Bỏ bớt các CSS Color Picker không cần thiết nếu đã có trong lib ... */
    </style>
</head>
<body class="d-flex flex-column h-100">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PRFDMZ5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<div class="h-100 m-0">
    <div id="iframe-container" class="modal-body p-0 overflow-hidden" style="height: calc(100% - 54px);">
        <iframe id="iframe-preview" src="https://preview.iwedding.info?template=6174ee94ff1ef271cb2d8bc5" class="border-0 animate__animated animate__fadeIn" width="100%" height="100%"></iframe>
    </div>
</div>

<div class="modal fade" id="noticeTemplatePremiumModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 500px;">
        <div class="modal-content">
            <div class="modal-header py-4 ps-4 bg-danger text-white">
                <p class="modal-title d-flex align-items-center fs-4 m-0">
                    <img src="https://biihappy.com/static/img/icons/icon_vip.png" style="width: 32px;max-height: 32px;" class="border rounded-circle p-1 border-warning me-2 bg-white" />
                    <span>Bạn đang chọn giao diện VIP!</span>
                </p>
            </div>
            <div class="modal-body p-4">
                <div class="row gx-3">
                    <div class="col col-12 col-xl-6 mb-1">
                        <button type="button" class="btn btn-lg btn-danger w-100 px-2 btn-continue">Dùng thử</button>
                    </div>
                    <div class="col col-12 col-xl-6 mb-1">
                        <button type="button" class="btn btn-lg btn-secondary w-100 px-2" data-bs-dismiss="modal">Huỷ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="loading" style="display: none;">Loading&#8230;</div>


<script>
    jQuery(function ($) {
        // Khởi tạo TourGuide (Đã tối giản)
        const tourGuideColor = new tourguide.TourGuideClient({ /* ... params ... */ });
        var hrefCreateWebsite = '/iwedding/start?template=6174ee94ff1ef271cb2d8bc5';
        var src = 'https://preview.iwedding.info?template=6174ee94ff1ef271cb2d8bc5';
        
        // Bỏ bớt logic TourGuide nếu không cần
        // tourGuideColor.addSteps([...]);

        // Logic Color Picker (Tối ưu hóa)
        const { default:ColorPicker, any_to_hex, changeColorFormat } = window.ColorPicker;

        function colorPickerInit(hrefCreateWebsite, src) {
            document.querySelectorAll('.myCustomColor').forEach(colorInput => {
                const cPicker = new ColorPicker({
                    color: colorInput.value,
                    defaultFormat: 'hex',
                    // ... swatches ...
                    onInput(c) {
                        c = any_to_hex(c);
                        colorInput.value = c;
                        colorInput.style.setProperty('--color', c);
                        
                        // Cập nhật link tạo website
                        let hrefCreateWebsiteCustom = hrefCreateWebsite + "&custom_color=" + encodeURIComponent(c);
                        $(".js-create-template").attr('href', hrefCreateWebsiteCustom);
                        
                        // Gửi message đến iframe để đổi màu (Giữ nguyên logic)
                        const iframe = document.getElementById('iframe-preview');
                        iframe.contentWindow.postMessage({ event: 'change_customcolor', color: c }, src);
                    },
                    // ... các event khác ...
                });
                // ... logic positioning, observer ...
                colorInput._colorPicker = cPicker;
            });
        }
        
        // Khởi tạo color picker sau khi DOM sẵn sàng và các logic cần thiết
        setTimeout(() => { colorPickerInit(hrefCreateWebsite, src); }, 200);

        // Logic nút "Tạo Website"
        $(document).on('click', '.js-create-template', function(event) {
            event.preventDefault();
            var url_template_selected = $(this).attr('href');
            var is_premium = '0' == 1; 

            if (!is_premium) {
                window.location.href = biicore.baseURL + url_template_selected;
                return;
            }
            $("#noticeTemplatePremiumModal").modal("show");
        });

        $(document).on('click', '#noticeTemplatePremiumModal .btn-continue', function(event) {
            event.preventDefault();
            window.location.href = biicore.baseURL + url_template_selected;
        });

        // Logic đổi chế độ xem (Desktop/Mobile) - Thêm animation
        $(document).on('click', '.preview-mobile', function(event) {
            var iframe = document.getElementById('iframe-preview');
            // Thêm class animation (Bootstrap utilities hoặc Animate.css)
            $('#iframe-preview').removeClass('shadow-strong').addClass('animate__animated animate__swing'); // Ví dụ: animate__swing
            iframe.style.width = '460px'; // Giảm dần width
            // Loại bỏ class animation sau khi hoàn thành
            setTimeout(() => {
                $('#iframe-preview').removeClass('animate__swing').addClass('shadow-strong');
            }, 600); 
            // KHÔNG NÊN RELOAD IFRAME! Chỉ thay đổi style để tận dụng CSS transition
            // document.getElementById("iframe-preview").src = iframe.src; // Lệnh này làm mất animation, nên bỏ.
        });

        $(document).on('click', '.preview-desktop', function(event) {
            var iframe = document.getElementById('iframe-preview');
             $('#iframe-preview').removeClass('shadow-strong').addClass('animate__animated animate__bounceOutRight'); // Ví dụ: bounceOutRight
            iframe.style.width = '100%'; 
            setTimeout(() => {
                 $('#iframe-preview').removeClass('animate__bounceOutRight');
            }, 600);
            // document.getElementById("iframe-preview").src = iframe.src; // Lệnh này làm mất animation, nên bỏ.
        });

        // Khởi tạo Tooltip (giữ nguyên)
        $('.preview-mobile, .preview-desktop').tooltip({ placement: 'bottom' });
    });
</script>
</body>
</html>